---
title: Manual Installation
description: Add Nucel to an existing project
icon: Wrench
---

import { Steps, Step } from 'fumadocs-ui/components/steps';
import { Callout } from 'fumadocs-ui/components/callout';
import { Files, File, Folder } from 'fumadocs-ui/components/files';

## Overview

This guide walks through manually adding Nucel to an existing project. If you're starting fresh, use the [Quick Start](/docs) guide instead.

## Prerequisites

Before installing Nucel, ensure you have:

- Node.js 22+ installed
- AWS account with credentials configured
- A Next.js, SvelteKit, or React Router project

<Callout type="warning">
Nucel requires AWS credentials. See [AWS Setup](/docs/deployment/aws-setup) for configuration help.
</Callout>

## Installation Steps

<Steps>
<Step>

### Install Nucel CLI

Install the Nucel CLI globally:

```bash tab="npm"
npm install -g @donswayo/nucel-cli
```

```bash tab="pnpm"
pnpm add -g @donswayo/nucel-cli
```

```bash tab="yarn"
yarn global add @donswayo/nucel-cli
```

```bash tab="bun"
bun add -g @donswayo/nucel-cli
```

Verify installation:
```bash
nucel --version
```

</Step>
<Step>

### Configure AWS Credentials

Nucel needs AWS credentials to deploy. Choose one method:

**Option 1: AWS CLI** (Recommended)
```bash
aws configure
```

**Option 2: Environment Variables**
```bash
export AWS_ACCESS_KEY_ID=your_access_key
export AWS_SECRET_ACCESS_KEY=your_secret_key
export AWS_DEFAULT_REGION=us-east-1
```

**Option 3: AWS Vault** (Most Secure)
```bash
aws-vault add personal
```

</Step>
<Step>

### Initialize Nucel

In your project directory, run:

```bash
nucel init
```

This creates a `nucel.config.ts` file (optional):

```ts title="nucel.config.ts"
export default {
  // Optional: Override detected settings
  framework: 'nextjs', // or 'sveltekit', 'react-router'
  buildCommand: 'npm run build',
  outputDirectory: '.next', // or 'build', '.svelte-kit'
  
  // Optional: AWS configuration
  region: 'us-east-1',
  profile: 'default',
  
  // Optional: Custom domain
  domain: 'app.example.com',
  certificateArn: 'arn:aws:acm:...',
  
  // Optional: Environment variables
  env: {
    DATABASE_URL: process.env.DATABASE_URL,
  }
}
```

</Step>
<Step>

### Deploy Your Application

Deploy to development:
```bash
nucel deploy
```

Deploy to production:
```bash
nucel deploy --stack production
```

Preview changes:
```bash
nucel deploy --preview
```

</Step>
</Steps>

## Framework-Specific Setup

### Next.js

Nucel automatically detects Next.js projects. No additional configuration needed.

<Files>
  <Folder name="my-nextjs-app" defaultOpen>
    <File name="package.json" />
    <File name="next.config.js" />
    <File name="nucel.config.ts" />
    <Folder name="app" />
    <Folder name="public" />
  </Folder>
</Files>

**Supported Features:**
- ✅ App Router & Pages Router
- ✅ ISR & SSG
- ✅ API Routes
- ✅ Middleware
- ✅ Image Optimization
- ✅ Streaming SSR

### SvelteKit

For SvelteKit, ensure you're using the Node adapter:

```bash
npm install -D @sveltejs/adapter-node
```

```js title="svelte.config.js"
import adapter from '@sveltejs/adapter-node';

export default {
  kit: {
    adapter: adapter()
  }
};
```

<Files>
  <Folder name="my-sveltekit-app" defaultOpen>
    <File name="package.json" />
    <File name="svelte.config.js" />
    <File name="nucel.config.ts" />
    <Folder name="src" />
    <Folder name="static" />
  </Folder>
</Files>

**Supported Features:**
- ✅ SSR & CSR
- ✅ Form Actions
- ✅ API Routes
- ✅ Static Assets
- ✅ Streaming

### React Router

React Router v7 projects work out of the box:

<Files>
  <Folder name="my-react-router-app" defaultOpen>
    <File name="package.json" />
    <File name="vite.config.ts" />
    <File name="nucel.config.ts" />
    <Folder name="app" />
    <Folder name="public" />
  </Folder>
</Files>

**Supported Features:**
- ✅ SSR with Loaders
- ✅ Actions
- ✅ Streaming
- ✅ Data Routes
- ✅ Error Boundaries

## Environment Variables

Nucel automatically loads environment variables from:

```bash
.env                # Always loaded
.env.local          # Local overrides (gitignored)
.env.[stack]        # Stack-specific
.env.[stack].local  # Stack-specific local overrides
```

### Framework Prefixes

Public environment variables are automatically handled:

| Framework | Public Prefix | Example |
|-----------|--------------|---------|
| Next.js | `NEXT_PUBLIC_` | `NEXT_PUBLIC_API_URL` |
| SvelteKit | `PUBLIC_` | `PUBLIC_API_URL` |
| React Router | `VITE_` | `VITE_API_URL` |

## Configuration Options

### Full Configuration Reference

```ts title="nucel.config.ts"
export default {
  // Framework detection (auto-detected if not specified)
  framework: 'nextjs' | 'sveltekit' | 'react-router',
  
  // Build configuration
  buildCommand: 'npm run build',
  outputDirectory: '.next',
  
  // AWS configuration
  region: 'us-east-1',
  profile: 'default',
  
  // Custom domain
  domain: 'app.example.com',
  certificateArn: 'arn:aws:acm:us-east-1:...',
  
  // Function configuration
  runtime: 'nodejs20.x',
  memorySize: 1024,
  timeout: 30,
  
  // Environment variables
  env: {
    NODE_ENV: 'production',
    DATABASE_URL: process.env.DATABASE_URL,
  },
  
  // Advanced options
  warmerEnabled: true,
  warmerSchedule: 'rate(5 minutes)',
  revalidationQueue: true,
  staticCaching: {
    maxAge: 31536000,
    immutable: true,
  },
  
  // Stack configuration
  stacks: {
    production: {
      domain: 'app.example.com',
      env: {
        NODE_ENV: 'production',
      }
    },
    staging: {
      domain: 'staging.example.com',
      env: {
        NODE_ENV: 'staging',
      }
    }
  }
}
```

## Troubleshooting

### Common Issues

<Callout type="error" title="AWS credentials not found">
Ensure AWS credentials are configured. Run `aws configure` or set environment variables.
</Callout>

<Callout type="error" title="Build failed">
Check that your build command works locally: `npm run build`
</Callout>

<Callout type="error" title="Deployment timeout">
Increase timeout in `nucel.config.ts`:
```ts
export default {
  timeout: 60 // seconds
}
```
</Callout>

### Getting Help

- Check [Troubleshooting Guide](/docs/troubleshooting)
- Open an issue on [GitHub](https://github.com/donswayo/pulu-front/issues)
- Review [FAQ](/docs/faq)

## Next Steps

Now that Nucel is installed:

1. **Deploy your app**: `nucel deploy`
2. **Set up CI/CD**: [CI/CD Guide](/docs/deployment/cicd)
3. **Configure domain**: [Custom Domains](/docs/deployment/domains)
4. **Monitor app**: [Monitoring Guide](/docs/deployment/monitoring)